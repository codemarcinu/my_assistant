
> myappassistant-chat-frontend@0.0.0 test
> vitest --passWithNoTests --silent

info Using tsconfig paths for react-docgen

 DEV  v3.2.4 /home/marcin/Dokumenty/agentai/makeit/AIASISSTMARUBO/myappassistant-chat-frontend

info Using tsconfig paths for react-docgen
info Using tsconfig paths for react-docgen
Port 63315 is in use, trying another one...
Port 63316 is in use, trying another one...

â¯â¯â¯â¯â¯â¯ Failed Suites 8 â¯â¯â¯â¯â¯â¯â¯

 FAIL  |storybook (chromium)| src/stories/Button.stories.ts [ src/stories/Button.stories.ts ]
 FAIL  |storybook (chromium)| src/stories/Header.stories.ts [ src/stories/Header.stories.ts ]
 FAIL  |storybook (chromium)| src/stories/Page.stories.ts [ src/stories/Page.stories.ts ]
 FAIL  |storybook (chromium)| src/components/ui/atoms/Badge.stories.tsx [ src/components/ui/atoms/Badge.stories.tsx ]
 FAIL  |storybook (chromium)| src/components/ui/atoms/Button.stories.tsx [ src/components/ui/atoms/Button.stories.tsx ]
 FAIL  |storybook (chromium)| src/components/ui/atoms/Card.stories.tsx [ src/components/ui/atoms/Card.stories.tsx ]
 FAIL  |storybook (chromium)| src/components/ui/atoms/Input.stories.tsx [ src/components/ui/atoms/Input.stories.tsx ]
 FAIL  |storybook (chromium)| src/components/ui/atoms/Spinner.stories.tsx [ src/components/ui/atoms/Spinner.stories.tsx ]
Error: Failed to import test file /home/marcin/Dokumenty/agentai/makeit/AIASISSTMARUBO/myappassistant-chat-frontend/src/test/setup.ts
Caused by: ReferenceError: global is not defined
 â¯ src/test/setup.ts:6:0

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[1/8]â¯


 Test Files  8 failed (8)
      Tests  no tests
   Start at  23:26:01
   Duration  1.86s (transform 0ms, setup 0ms, collect 0ms, tests 0ms, environment 0ms, prepare 22.16s)

 FAIL  Tests failed. Watching for file changes...
       press h to show help, press q to quit
c[3J RERUN  src/test/setup.ts 


â¯â¯â¯â¯â¯â¯ Failed Suites 8 â¯â¯â¯â¯â¯â¯â¯

 FAIL  |storybook (chromium)| src/stories/Button.stories.ts [ src/stories/Button.stories.ts ]
 FAIL  |storybook (chromium)| src/stories/Header.stories.ts [ src/stories/Header.stories.ts ]
 FAIL  |storybook (chromium)| src/stories/Page.stories.ts [ src/stories/Page.stories.ts ]
 FAIL  |storybook (chromium)| src/components/ui/atoms/Badge.stories.tsx [ src/components/ui/atoms/Badge.stories.tsx ]
 FAIL  |storybook (chromium)| src/components/ui/atoms/Button.stories.tsx [ src/components/ui/atoms/Button.stories.tsx ]
 FAIL  |storybook (chromium)| src/components/ui/atoms/Card.stories.tsx [ src/components/ui/atoms/Card.stories.tsx ]
 FAIL  |storybook (chromium)| src/components/ui/atoms/Input.stories.tsx [ src/components/ui/atoms/Input.stories.tsx ]
 FAIL  |storybook (chromium)| src/components/ui/atoms/Spinner.stories.tsx [ src/components/ui/atoms/Spinner.stories.tsx ]
Error: Failed to import test file /home/marcin/Dokumenty/agentai/makeit/AIASISSTMARUBO/myappassistant-chat-frontend/src/test/setup.ts
Caused by: TypeError: Cannot set property localStorage of #<Window> which has only a getter
 â¯ src/test/setup.ts:48:7

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[1/8]â¯


 Test Files  8 failed (8)
      Tests  no tests
   Start at  23:29:23
   Duration  0ms

 FAIL  Tests failed. Watching for file changes...
       press h to show help, press q to quit
c[3J RERUN  src/test/setup.ts 

 â¯ |storybook (chromium)| src/components/ui/atoms/Card.stories.tsx (7 tests | 7 failed) 512ms
   Ã— Default 247ms
     â†’ 
[34mClick to debug the error directly in Storybook: http://localhost:6006/?path=/story/atoms-card--default&addonPanel=storybook/interactions/panel[39m

useTheme must be used within a ThemeProvider
   Ã— Small Padding 25ms
     â†’ 
[34mClick to debug the error directly in Storybook: http://localhost:6006/?path=/story/atoms-card--small-padding&addonPanel=storybook/interactions/panel[39m

useTheme must be used within a ThemeProvider
   Ã— Large Padding 23ms
     â†’ 
[34mClick to debug the error directly in Storybook: http://localhost:6006/?path=/story/atoms-card--large-padding&addonPanel=storybook/interactions/panel[39m

useTheme must be used within a ThemeProvider
   Ã— Small Shadow 27ms
     â†’ 
[34mClick to debug the error directly in Storybook: http://localhost:6006/?path=/story/atoms-card--small-shadow&addonPanel=storybook/interactions/panel[39m

useTheme must be used within a ThemeProvider
   Ã— Large Shadow 82ms
     â†’ 
[34mClick to debug the error directly in Storybook: http://localhost:6006/?path=/story/atoms-card--large-shadow&addonPanel=storybook/interactions/panel[39m

useTheme must be used within a ThemeProvider
   Ã— With Content 36ms
     â†’ 
[34mClick to debug the error directly in Storybook: http://localhost:6006/?path=/story/atoms-card--with-content&addonPanel=storybook/interactions/panel[39m

useTheme must be used within a ThemeProvider
   Ã— All Variants 58ms
     â†’ 
[34mClick to debug the error directly in Storybook: http://localhost:6006/?path=/story/atoms-card--all-variants&addonPanel=storybook/interactions/panel[39m

useTheme must be used within a ThemeProvider
 â¯ |storybook (chromium)| src/components/ui/atoms/Button.stories.tsx (8 tests | 8 failed) 574ms
   Ã— Primary 276ms
     â†’ 
[34mClick to debug the error directly in Storybook: http://localhost:6006/?path=/story/atoms-button--primary&addonPanel=storybook/interactions/panel[39m

useTheme must be used within a ThemeProvider
   Ã— Secondary 47ms
     â†’ 
[34mClick to debug the error directly in Storybook: http://localhost:6006/?path=/story/atoms-button--secondary&addonPanel=storybook/interactions/panel[39m

useTheme must be used within a ThemeProvider
   Ã— Outline 20ms
     â†’ 
[34mClick to debug the error directly in Storybook: http://localhost:6006/?path=/story/atoms-button--outline&addonPanel=storybook/interactions/panel[39m

useTheme must be used within a ThemeProvider
   Ã— Ghost 105ms
     â†’ 
[34mClick to debug the error directly in Storybook: http://localhost:6006/?path=/story/atoms-button--ghost&addonPanel=storybook/interactions/panel[39m

useTheme must be used within a ThemeProvider
   Ã— Small 47ms
     â†’ 
[34mClick to debug the error directly in Storybook: http://localhost:6006/?path=/story/atoms-button--small&addonPanel=storybook/interactions/panel[39m

useTheme must be used within a ThemeProvider
   Ã— Large 17ms
     â†’ 
[34mClick to debug the error directly in Storybook: http://localhost:6006/?path=/story/atoms-button--large&addonPanel=storybook/interactions/panel[39m

useTheme must be used within a ThemeProvider
   Ã— Loading 21ms
     â†’ 
[34mClick to debug the error directly in Storybook: http://localhost:6006/?path=/story/atoms-button--loading&addonPanel=storybook/interactions/panel[39m

useTheme must be used within a ThemeProvider
   Ã— Disabled 25ms
     â†’ 
[34mClick to debug the error directly in Storybook: http://localhost:6006/?path=/story/atoms-button--disabled&addonPanel=storybook/interactions/panel[39m

useTheme must be used within a ThemeProvider
 âœ“ |storybook (chromium)| src/stories/Header.stories.ts (2 tests) 1055ms
   âœ“ Logged In  893ms
 âœ“ |storybook (chromium)| src/stories/Page.stories.ts (2 tests) 1441ms
   âœ“ Logged Out  1099ms
   âœ“ Logged In  339ms
 âœ“ |storybook (chromium)| src/stories/Button.stories.ts (4 tests) 1523ms
   âœ“ Primary  1141ms
 âœ“ |storybook (chromium)| src/components/ui/atoms/Badge.stories.tsx (10 tests) 1746ms
   âœ“ Default  710ms
 âœ“ |storybook (chromium)| src/components/ui/atoms/Input.stories.tsx (10 tests) 744ms
 âœ“ |storybook (chromium)| src/components/ui/atoms/Spinner.stories.tsx (11 tests) 741ms

â¯â¯â¯â¯â¯â¯ Failed Tests 15 â¯â¯â¯â¯â¯â¯â¯

 FAIL  |storybook (chromium)| src/components/ui/atoms/Button.stories.tsx > Primary
 FAIL  |storybook (chromium)| src/components/ui/atoms/Button.stories.tsx > Secondary
 FAIL  |storybook (chromium)| src/components/ui/atoms/Button.stories.tsx > Outline
 FAIL  |storybook (chromium)| src/components/ui/atoms/Button.stories.tsx > Ghost
 FAIL  |storybook (chromium)| src/components/ui/atoms/Button.stories.tsx > Small
 FAIL  |storybook (chromium)| src/components/ui/atoms/Button.stories.tsx > Large
 FAIL  |storybook (chromium)| src/components/ui/atoms/Button.stories.tsx > Loading
 FAIL  |storybook (chromium)| src/components/ui/atoms/Button.stories.tsx > Disabled
Error: 
[34mClick to debug the error directly in Storybook: http://localhost:6006/?path=/story/atoms-button--primary&addonPanel=storybook/interactions/panel[39m

useTheme must be used within a ThemeProvider
 â¯ useTheme src/components/ThemeProvider.tsx:86:10
     84|   const context = useContext(ThemeContext);
     85|   if (context === undefined) {
     86|     throw new Error('useTheme must be used within a ThemeProvider');
       |          ^
     87|   }
     88|   return context;
 â¯ Button src/components/ui/atoms/Button.tsx:31:28
 â¯ react-stack-bottom-frame node_modules/react-dom/cjs/react-dom-client.development.js:23863:19
 â¯ renderWithHooks node_modules/react-dom/cjs/react-dom-client.development.js:5529:21
 â¯ updateFunctionComponent node_modules/react-dom/cjs/react-dom-client.development.js:8897:18
 â¯ beginWork node_modules/react-dom/cjs/react-dom-client.development.js:10522:17
 â¯ runWithFiberInDEV node_modules/react-dom/cjs/react-dom-client.development.js:1519:29
 â¯ performUnitOfWork node_modules/react-dom/cjs/react-dom-client.development.js:15140:21
 â¯ workLoopSync node_modules/react-dom/cjs/react-dom-client.development.js:14956:40
 â¯ renderRootSync node_modules/react-dom/cjs/react-dom-client.development.js:14936:10

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[1/15]â¯

 FAIL  |storybook (chromium)| src/components/ui/atoms/Card.stories.tsx > Default
 FAIL  |storybook (chromium)| src/components/ui/atoms/Card.stories.tsx > Small Padding
 FAIL  |storybook (chromium)| src/components/ui/atoms/Card.stories.tsx > Large Padding
 FAIL  |storybook (chromium)| src/components/ui/atoms/Card.stories.tsx > Small Shadow
 FAIL  |storybook (chromium)| src/components/ui/atoms/Card.stories.tsx > Large Shadow
 FAIL  |storybook (chromium)| src/components/ui/atoms/Card.stories.tsx > With Content
 FAIL  |storybook (chromium)| src/components/ui/atoms/Card.stories.tsx > All Variants
Error: 
[34mClick to debug the error directly in Storybook: http://localhost:6006/?path=/story/atoms-card--default&addonPanel=storybook/interactions/panel[39m

useTheme must be used within a ThemeProvider
 â¯ useTheme src/components/ThemeProvider.tsx:86:10
     84|   const context = useContext(ThemeContext);
     85|   if (context === undefined) {
     86|     throw new Error('useTheme must be used within a ThemeProvider');
       |          ^
     87|   }
     88|   return context;
 â¯ Card src/components/ui/atoms/Card.tsx:17:28
 â¯ react-stack-bottom-frame node_modules/react-dom/cjs/react-dom-client.development.js:23863:19
 â¯ renderWithHooks node_modules/react-dom/cjs/react-dom-client.development.js:5529:21
 â¯ updateFunctionComponent node_modules/react-dom/cjs/react-dom-client.development.js:8897:18
 â¯ beginWork node_modules/react-dom/cjs/react-dom-client.development.js:10522:17
 â¯ runWithFiberInDEV node_modules/react-dom/cjs/react-dom-client.development.js:1519:29
 â¯ performUnitOfWork node_modules/react-dom/cjs/react-dom-client.development.js:15140:21
 â¯ workLoopSync node_modules/react-dom/cjs/react-dom-client.development.js:14956:40
 â¯ renderRootSync node_modules/react-dom/cjs/react-dom-client.development.js:14936:10

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[2/15]â¯


 Test Files  2 failed | 6 passed (8)
      Tests  15 failed | 39 passed (54)
   Start at  23:29:43
   Duration  17.91s

 FAIL  Tests failed. Watching for file changes...
       press h to show help, press q to quit

Restarting due to config changes...
info Using tsconfig paths for react-docgen
Warning: Starting in Storybook 8.5.0-alpha.18, the "test.include" option in Vitest is discouraged in favor of just using the "stories" field in your Storybook configuration.

The values you passed to "test.include" will be ignored, please remove them from your Vitest configuration where the Storybook plugin is applied.

More info: https://github.com/storybookjs/storybook/blob/next/MIGRATION.md#addon-test-indexing-behavior-of-storybookaddon-test-is-changed

 DEV  v3.2.4 /home/marcin/Dokumenty/agentai/makeit/AIASISSTMARUBO/myappassistant-chat-frontend

info Using tsconfig paths for react-docgen
Warning: Starting in Storybook 8.5.0-alpha.18, the "test.include" option in Vitest is discouraged in favor of just using the "stories" field in your Storybook configuration.

The values you passed to "test.include" will be ignored, please remove them from your Vitest configuration where the Storybook plugin is applied.

More info: https://github.com/storybookjs/storybook/blob/next/MIGRATION.md#addon-test-indexing-behavior-of-storybookaddon-test-is-changed
info Using tsconfig paths for react-docgen
Port 63315 is in use, trying another one...
 âœ“ |0| src/test/__tests__/chatStore.test.tsx (4 tests) 5ms
 â¯ |0| src/test/__tests__/App.test.tsx (1 test | 1 failed) 18ms
   Ã— App > renders without crashing 17ms
     â†’ document is not defined
 â¯ |storybook (chromium)| src/components/ui/atoms/Card.stories.tsx (7 tests | 7 failed) 488ms
   Ã— Default 306ms
     â†’ 
[34mClick to debug the error directly in Storybook: http://localhost:6006/?path=/story/atoms-card--default&addonPanel=storybook/interactions/panel[39m

useTheme must be used within a ThemeProvider
   Ã— Small Padding 40ms
     â†’ 
[34mClick to debug the error directly in Storybook: http://localhost:6006/?path=/story/atoms-card--small-padding&addonPanel=storybook/interactions/panel[39m

useTheme must be used within a ThemeProvider
   Ã— Large Padding 17ms
     â†’ 
[34mClick to debug the error directly in Storybook: http://localhost:6006/?path=/story/atoms-card--large-padding&addonPanel=storybook/interactions/panel[39m

useTheme must be used within a ThemeProvider
   Ã— Small Shadow 30ms
     â†’ 
[34mClick to debug the error directly in Storybook: http://localhost:6006/?path=/story/atoms-card--small-shadow&addonPanel=storybook/interactions/panel[39m

useTheme must be used within a ThemeProvider
   Ã— Large Shadow 20ms
     â†’ 
[34mClick to debug the error directly in Storybook: http://localhost:6006/?path=/story/atoms-card--large-shadow&addonPanel=storybook/interactions/panel[39m

useTheme must be used within a ThemeProvider
   Ã— With Content 19ms
     â†’ 
[34mClick to debug the error directly in Storybook: http://localhost:6006/?path=/story/atoms-card--with-content&addonPanel=storybook/interactions/panel[39m

useTheme must be used within a ThemeProvider
   Ã— All Variants 45ms
     â†’ 
[34mClick to debug the error directly in Storybook: http://localhost:6006/?path=/story/atoms-card--all-variants&addonPanel=storybook/interactions/panel[39m

useTheme must be used within a ThemeProvider
 â¯ |storybook (chromium)| src/components/ui/atoms/Button.stories.tsx (8 tests | 8 failed) 561ms
   Ã— Primary 330ms
     â†’ 
[34mClick to debug the error directly in Storybook: http://localhost:6006/?path=/story/atoms-button--primary&addonPanel=storybook/interactions/panel[39m

useTheme must be used within a ThemeProvider
   Ã— Secondary 41ms
     â†’ 
[34mClick to debug the error directly in Storybook: http://localhost:6006/?path=/story/atoms-button--secondary&addonPanel=storybook/interactions/panel[39m

useTheme must be used within a ThemeProvider
   Ã— Outline 30ms
     â†’ 
[34mClick to debug the error directly in Storybook: http://localhost:6006/?path=/story/atoms-button--outline&addonPanel=storybook/interactions/panel[39m

useTheme must be used within a ThemeProvider
   Ã— Ghost 28ms
     â†’ 
[34mClick to debug the error directly in Storybook: http://localhost:6006/?path=/story/atoms-button--ghost&addonPanel=storybook/interactions/panel[39m

useTheme must be used within a ThemeProvider
   Ã— Small 36ms
     â†’ 
[34mClick to debug the error directly in Storybook: http://localhost:6006/?path=/story/atoms-button--small&addonPanel=storybook/interactions/panel[39m

useTheme must be used within a ThemeProvider
   Ã— Large 18ms
     â†’ 
[34mClick to debug the error directly in Storybook: http://localhost:6006/?path=/story/atoms-button--large&addonPanel=storybook/interactions/panel[39m

useTheme must be used within a ThemeProvider
   Ã— Loading 17ms
     â†’ 
[34mClick to debug the error directly in Storybook: http://localhost:6006/?path=/story/atoms-button--loading&addonPanel=storybook/interactions/panel[39m

useTheme must be used within a ThemeProvider
   Ã— Disabled 51ms
     â†’ 
[34mClick to debug the error directly in Storybook: http://localhost:6006/?path=/story/atoms-button--disabled&addonPanel=storybook/interactions/panel[39m

useTheme must be used within a ThemeProvider
 âœ“ |storybook (chromium)| src/stories/Page.stories.ts (2 tests) 1436ms
   âœ“ Logged Out  1146ms
 âœ“ |storybook (chromium)| src/components/ui/atoms/Badge.stories.tsx (10 tests) 2069ms
   âœ“ Default  723ms
 âœ“ |storybook (chromium)| src/components/ui/atoms/Spinner.stories.tsx (11 tests) 2155ms
   âœ“ Default  634ms
 âœ“ |storybook (chromium)| src/components/ui/atoms/Input.stories.tsx (10 tests) 2356ms
   âœ“ Default  827ms
   âœ“ With Label  355ms
 âœ“ |storybook (chromium)| src/stories/Button.stories.ts (4 tests) 893ms
   âœ“ Primary  574ms
 âœ“ |storybook (chromium)| src/stories/Header.stories.ts (2 tests) 801ms
   âœ“ Logged In  707ms

â¯â¯â¯â¯â¯â¯ Failed Suites 1 â¯â¯â¯â¯â¯â¯â¯

 FAIL  |0| src/test/__tests__/ChatBubble.test.tsx [ src/test/__tests__/ChatBubble.test.tsx ]
ReferenceError: describe is not defined
 â¯ src/test/__tests__/ChatBubble.test.tsx:7:1
      5| import { ThemeProvider } from '../../components/ThemeProvider';
      6| 
      7| describe('ChatBubble', () => {
       | ^
      8|   const renderBubble = (message: Message) => {
      9|     return render(

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[1/17]â¯


â¯â¯â¯â¯â¯â¯ Failed Tests 16 â¯â¯â¯â¯â¯â¯â¯

 FAIL  |0| src/test/__tests__/App.test.tsx > App > renders without crashing
ReferenceError: document is not defined
 â¯ Proxy.render node_modules/@testing-library/react/dist/pure.js:257:5
 â¯ Module.customRender src/test/utils.tsx:31:6
     29|   ui: ReactElement,
     30|   options?: Omit<RenderOptions, 'wrapper'>
     31| ) => render(ui, { wrapper: AllTheProviders, ...options });
       |      ^
     32| 
     33| // Re-export everything
 â¯ renderApp src/test/__tests__/App.test.tsx:14:12
 â¯ src/test/__tests__/App.test.tsx:25:7
 â¯ Proxy.process.env.NODE_ENV.exports.act node_modules/react/cjs/react.development.js:789:22
 â¯ src/test/__tests__/App.test.tsx:24:11

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[2/17]â¯

 FAIL  |storybook (chromium)| src/components/ui/atoms/Button.stories.tsx > Primary
 FAIL  |storybook (chromium)| src/components/ui/atoms/Button.stories.tsx > Secondary
 FAIL  |storybook (chromium)| src/components/ui/atoms/Button.stories.tsx > Outline
 FAIL  |storybook (chromium)| src/components/ui/atoms/Button.stories.tsx > Ghost
 FAIL  |storybook (chromium)| src/components/ui/atoms/Button.stories.tsx > Small
 FAIL  |storybook (chromium)| src/components/ui/atoms/Button.stories.tsx > Large
 FAIL  |storybook (chromium)| src/components/ui/atoms/Button.stories.tsx > Loading
 FAIL  |storybook (chromium)| src/components/ui/atoms/Button.stories.tsx > Disabled
Error: 
[34mClick to debug the error directly in Storybook: http://localhost:6006/?path=/story/atoms-button--primary&addonPanel=storybook/interactions/panel[39m

useTheme must be used within a ThemeProvider
 â¯ useTheme src/components/ThemeProvider.tsx:86:10
     84|   const context = useContext(ThemeContext);
     85|   if (context === undefined) {
     86|     throw new Error('useTheme must be used within a ThemeProvider');
       |          ^
     87|   }
     88|   return context;
 â¯ Button src/components/ui/atoms/Button.tsx:31:28
 â¯ react-stack-bottom-frame node_modules/react-dom/cjs/react-dom-client.development.js:23863:19
 â¯ renderWithHooks node_modules/react-dom/cjs/react-dom-client.development.js:5529:21
 â¯ updateFunctionComponent node_modules/react-dom/cjs/react-dom-client.development.js:8897:18
 â¯ beginWork node_modules/react-dom/cjs/react-dom-client.development.js:10522:17
 â¯ runWithFiberInDEV node_modules/react-dom/cjs/react-dom-client.development.js:1519:29
 â¯ performUnitOfWork node_modules/react-dom/cjs/react-dom-client.development.js:15140:21
 â¯ workLoopSync node_modules/react-dom/cjs/react-dom-client.development.js:14956:40
 â¯ renderRootSync node_modules/react-dom/cjs/react-dom-client.development.js:14936:10

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[3/17]â¯

 FAIL  |storybook (chromium)| src/components/ui/atoms/Card.stories.tsx > Default
 FAIL  |storybook (chromium)| src/components/ui/atoms/Card.stories.tsx > Small Padding
 FAIL  |storybook (chromium)| src/components/ui/atoms/Card.stories.tsx > Large Padding
 FAIL  |storybook (chromium)| src/components/ui/atoms/Card.stories.tsx > Small Shadow
 FAIL  |storybook (chromium)| src/components/ui/atoms/Card.stories.tsx > Large Shadow
 FAIL  |storybook (chromium)| src/components/ui/atoms/Card.stories.tsx > With Content
 FAIL  |storybook (chromium)| src/components/ui/atoms/Card.stories.tsx > All Variants
Error: 
[34mClick to debug the error directly in Storybook: http://localhost:6006/?path=/story/atoms-card--default&addonPanel=storybook/interactions/panel[39m

useTheme must be used within a ThemeProvider
 â¯ useTheme src/components/ThemeProvider.tsx:86:10
     84|   const context = useContext(ThemeContext);
     85|   if (context === undefined) {
     86|     throw new Error('useTheme must be used within a ThemeProvider');
       |          ^
     87|   }
     88|   return context;
 â¯ Card src/components/ui/atoms/Card.tsx:17:28
 â¯ react-stack-bottom-frame node_modules/react-dom/cjs/react-dom-client.development.js:23863:19
 â¯ renderWithHooks node_modules/react-dom/cjs/react-dom-client.development.js:5529:21
 â¯ updateFunctionComponent node_modules/react-dom/cjs/react-dom-client.development.js:8897:18
 â¯ beginWork node_modules/react-dom/cjs/react-dom-client.development.js:10522:17
 â¯ runWithFiberInDEV node_modules/react-dom/cjs/react-dom-client.development.js:1519:29
 â¯ performUnitOfWork node_modules/react-dom/cjs/react-dom-client.development.js:15140:21
 â¯ workLoopSync node_modules/react-dom/cjs/react-dom-client.development.js:14956:40
 â¯ renderRootSync node_modules/react-dom/cjs/react-dom-client.development.js:14936:10

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[4/17]â¯


 Test Files  4 failed | 7 passed (11)
      Tests  16 failed | 43 passed (59)
   Start at  23:30:29
   Duration  7.49s (transform 363ms, setup 9.75s, collect 3.52s, tests 10.78s, environment 1ms, prepare 2172.58s)

 FAIL  Tests failed. Watching for file changes...
       press h to show help, press q to quit

Restarting due to config changes...
info Using tsconfig paths for react-docgen
Warning: Starting in Storybook 8.5.0-alpha.18, the "test.include" option in Vitest is discouraged in favor of just using the "stories" field in your Storybook configuration.

The values you passed to "test.include" will be ignored, please remove them from your Vitest configuration where the Storybook plugin is applied.

More info: https://github.com/storybookjs/storybook/blob/next/MIGRATION.md#addon-test-indexing-behavior-of-storybookaddon-test-is-changed

 DEV  v3.2.4 /home/marcin/Dokumenty/agentai/makeit/AIASISSTMARUBO/myappassistant-chat-frontend

info Using tsconfig paths for react-docgen
Warning: Starting in Storybook 8.5.0-alpha.18, the "test.include" option in Vitest is discouraged in favor of just using the "stories" field in your Storybook configuration.

The values you passed to "test.include" will be ignored, please remove them from your Vitest configuration where the Storybook plugin is applied.

More info: https://github.com/storybookjs/storybook/blob/next/MIGRATION.md#addon-test-indexing-behavior-of-storybookaddon-test-is-changed
info Using tsconfig paths for react-docgen
 â¯ |0| src/test/__tests__/App.test.tsx (1 test | 1 failed) 11ms
   Ã— App > renders without crashing 10ms
     â†’ document is not defined
 âœ“ |0| src/test/__tests__/chatStore.test.tsx (4 tests) 10ms
 â¯ |storybook (chromium)| src/components/ui/atoms/Button.stories.tsx (8 tests | 8 failed) 511ms
   Ã— Primary 288ms
     â†’ 
[34mClick to debug the error directly in Storybook: http://localhost:6006/?path=/story/atoms-button--primary&addonPanel=storybook/interactions/panel[39m

useTheme must be used within a ThemeProvider
   Ã— Secondary 26ms
     â†’ 
[34mClick to debug the error directly in Storybook: http://localhost:6006/?path=/story/atoms-button--secondary&addonPanel=storybook/interactions/panel[39m

useTheme must be used within a ThemeProvider
   Ã— Outline 62ms
     â†’ 
[34mClick to debug the error directly in Storybook: http://localhost:6006/?path=/story/atoms-button--outline&addonPanel=storybook/interactions/panel[39m

useTheme must be used within a ThemeProvider
   Ã— Ghost 43ms
     â†’ 
[34mClick to debug the error directly in Storybook: http://localhost:6006/?path=/story/atoms-button--ghost&addonPanel=storybook/interactions/panel[39m

useTheme must be used within a ThemeProvider
   Ã— Small 23ms
     â†’ 
[34mClick to debug the error directly in Storybook: http://localhost:6006/?path=/story/atoms-button--small&addonPanel=storybook/interactions/panel[39m

useTheme must be used within a ThemeProvider
   Ã— Large 20ms
     â†’ 
[34mClick to debug the error directly in Storybook: http://localhost:6006/?path=/story/atoms-button--large&addonPanel=storybook/interactions/panel[39m

useTheme must be used within a ThemeProvider
   Ã— Loading 13ms
     â†’ 
[34mClick to debug the error directly in Storybook: http://localhost:6006/?path=/story/atoms-button--loading&addonPanel=storybook/interactions/panel[39m

useTheme must be used within a ThemeProvider
   Ã— Disabled 26ms
     â†’ 
[34mClick to debug the error directly in Storybook: http://localhost:6006/?path=/story/atoms-button--disabled&addonPanel=storybook/interactions/panel[39m

useTheme must be used within a ThemeProvider
 â¯ |storybook (chromium)| src/components/ui/atoms/Card.stories.tsx (7 tests | 7 failed) 409ms
   Ã— Default 191ms
     â†’ 
[34mClick to debug the error directly in Storybook: http://localhost:6006/?path=/story/atoms-card--default&addonPanel=storybook/interactions/panel[39m

useTheme must be used within a ThemeProvider
   Ã— Small Padding 27ms
     â†’ 
[34mClick to debug the error directly in Storybook: http://localhost:6006/?path=/story/atoms-card--small-padding&addonPanel=storybook/interactions/panel[39m

useTheme must be used within a ThemeProvider
   Ã— Large Padding 47ms
     â†’ 
[34mClick to debug the error directly in Storybook: http://localhost:6006/?path=/story/atoms-card--large-padding&addonPanel=storybook/interactions/panel[39m

useTheme must be used within a ThemeProvider
   Ã— Small Shadow 43ms
     â†’ 
[34mClick to debug the error directly in Storybook: http://localhost:6006/?path=/story/atoms-card--small-shadow&addonPanel=storybook/interactions/panel[39m

useTheme must be used within a ThemeProvider
   Ã— Large Shadow 24ms
     â†’ 
[34mClick to debug the error directly in Storybook: http://localhost:6006/?path=/story/atoms-card--large-shadow&addonPanel=storybook/interactions/panel[39m

useTheme must be used within a ThemeProvider
   Ã— With Content 21ms
     â†’ 
[34mClick to debug the error directly in Storybook: http://localhost:6006/?path=/story/atoms-card--with-content&addonPanel=storybook/interactions/panel[39m

useTheme must be used within a ThemeProvider
   Ã— All Variants 35ms
     â†’ 
[34mClick to debug the error directly in Storybook: http://localhost:6006/?path=/story/atoms-card--all-variants&addonPanel=storybook/interactions/panel[39m

useTheme must be used within a ThemeProvider
 âœ“ |storybook (chromium)| src/stories/Page.stories.ts (2 tests) 1488ms
   âœ“ Logged Out  1213ms
 âœ“ |storybook (chromium)| src/components/ui/atoms/Badge.stories.tsx (10 tests) 1923ms
   âœ“ Default  888ms
 âœ“ |storybook (chromium)| src/components/ui/atoms/Spinner.stories.tsx (11 tests) 2182ms
   âœ“ Default  845ms
 âœ“ |storybook (chromium)| src/components/ui/atoms/Input.stories.tsx (10 tests) 2079ms
   âœ“ Default  787ms
 âœ“ |storybook (chromium)| src/stories/Header.stories.ts (2 tests) 667ms
   âœ“ Logged In  592ms
 âœ“ |storybook (chromium)| src/stories/Button.stories.ts (4 tests) 893ms
   âœ“ Primary  679ms

â¯â¯â¯â¯â¯â¯ Failed Suites 1 â¯â¯â¯â¯â¯â¯â¯

 FAIL  |0| src/test/__tests__/ChatBubble.test.tsx [ src/test/__tests__/ChatBubble.test.tsx ]
ReferenceError: describe is not defined
 â¯ src/test/__tests__/ChatBubble.test.tsx:7:1
      5| import { ThemeProvider } from '../../components/ThemeProvider';
      6| 
      7| describe('ChatBubble', () => {
       | ^
      8|   const renderBubble = (message: Message) => {
      9|     return render(

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[1/17]â¯


â¯â¯â¯â¯â¯â¯ Failed Tests 16 â¯â¯â¯â¯â¯â¯â¯

 FAIL  |0| src/test/__tests__/App.test.tsx > App > renders without crashing
ReferenceError: document is not defined
 â¯ Proxy.render node_modules/@testing-library/react/dist/pure.js:257:5
 â¯ Module.customRender src/test/utils.tsx:31:6
     29|   ui: ReactElement,
     30|   options?: Omit<RenderOptions, 'wrapper'>
     31| ) => render(ui, { wrapper: AllTheProviders, ...options });
       |      ^
     32| 
     33| // Re-export everything
 â¯ renderApp src/test/__tests__/App.test.tsx:14:12
 â¯ src/test/__tests__/App.test.tsx:25:7
 â¯ Proxy.process.env.NODE_ENV.exports.act node_modules/react/cjs/react.development.js:789:22
 â¯ src/test/__tests__/App.test.tsx:24:11

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[2/17]â¯

 FAIL  |storybook (chromium)| src/components/ui/atoms/Button.stories.tsx > Primary
 FAIL  |storybook (chromium)| src/components/ui/atoms/Button.stories.tsx > Secondary
 FAIL  |storybook (chromium)| src/components/ui/atoms/Button.stories.tsx > Outline
 FAIL  |storybook (chromium)| src/components/ui/atoms/Button.stories.tsx > Ghost
 FAIL  |storybook (chromium)| src/components/ui/atoms/Button.stories.tsx > Small
 FAIL  |storybook (chromium)| src/components/ui/atoms/Button.stories.tsx > Large
 FAIL  |storybook (chromium)| src/components/ui/atoms/Button.stories.tsx > Loading
 FAIL  |storybook (chromium)| src/components/ui/atoms/Button.stories.tsx > Disabled
Error: 
[34mClick to debug the error directly in Storybook: http://localhost:6006/?path=/story/atoms-button--primary&addonPanel=storybook/interactions/panel[39m

useTheme must be used within a ThemeProvider
 â¯ useTheme src/components/ThemeProvider.tsx:86:10
     84|   const context = useContext(ThemeContext);
     85|   if (context === undefined) {
     86|     throw new Error('useTheme must be used within a ThemeProvider');
       |          ^
     87|   }
     88|   return context;
 â¯ Button src/components/ui/atoms/Button.tsx:31:28
 â¯ react-stack-bottom-frame node_modules/react-dom/cjs/react-dom-client.development.js:23863:19
 â¯ renderWithHooks node_modules/react-dom/cjs/react-dom-client.development.js:5529:21
 â¯ updateFunctionComponent node_modules/react-dom/cjs/react-dom-client.development.js:8897:18
 â¯ beginWork node_modules/react-dom/cjs/react-dom-client.development.js:10522:17
 â¯ runWithFiberInDEV node_modules/react-dom/cjs/react-dom-client.development.js:1519:29
 â¯ performUnitOfWork node_modules/react-dom/cjs/react-dom-client.development.js:15140:21
 â¯ workLoopSync node_modules/react-dom/cjs/react-dom-client.development.js:14956:40
 â¯ renderRootSync node_modules/react-dom/cjs/react-dom-client.development.js:14936:10

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[3/17]â¯

 FAIL  |storybook (chromium)| src/components/ui/atoms/Card.stories.tsx > Default
 FAIL  |storybook (chromium)| src/components/ui/atoms/Card.stories.tsx > Small Padding
 FAIL  |storybook (chromium)| src/components/ui/atoms/Card.stories.tsx > Large Padding
 FAIL  |storybook (chromium)| src/components/ui/atoms/Card.stories.tsx > Small Shadow
 FAIL  |storybook (chromium)| src/components/ui/atoms/Card.stories.tsx > Large Shadow
 FAIL  |storybook (chromium)| src/components/ui/atoms/Card.stories.tsx > With Content
 FAIL  |storybook (chromium)| src/components/ui/atoms/Card.stories.tsx > All Variants
Error: 
[34mClick to debug the error directly in Storybook: http://localhost:6006/?path=/story/atoms-card--default&addonPanel=storybook/interactions/panel[39m

useTheme must be used within a ThemeProvider
 â¯ useTheme src/components/ThemeProvider.tsx:86:10
     84|   const context = useContext(ThemeContext);
     85|   if (context === undefined) {
     86|     throw new Error('useTheme must be used within a ThemeProvider');
       |          ^
     87|   }
     88|   return context;
 â¯ Card src/components/ui/atoms/Card.tsx:17:28
 â¯ react-stack-bottom-frame node_modules/react-dom/cjs/react-dom-client.development.js:23863:19
 â¯ renderWithHooks node_modules/react-dom/cjs/react-dom-client.development.js:5529:21
 â¯ updateFunctionComponent node_modules/react-dom/cjs/react-dom-client.development.js:8897:18
 â¯ beginWork node_modules/react-dom/cjs/react-dom-client.development.js:10522:17
 â¯ runWithFiberInDEV node_modules/react-dom/cjs/react-dom-client.development.js:1519:29
 â¯ performUnitOfWork node_modules/react-dom/cjs/react-dom-client.development.js:15140:21
 â¯ workLoopSync node_modules/react-dom/cjs/react-dom-client.development.js:14956:40
 â¯ renderRootSync node_modules/react-dom/cjs/react-dom-client.development.js:14936:10

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[4/17]â¯


 Test Files  4 failed | 7 passed (11)
      Tests  16 failed | 43 passed (59)
   Start at  23:30:41
   Duration  6.93s (transform 240ms, setup 8.82s, collect 2.25s, tests 10.17s, environment 1ms, prepare 2272.00s)

 FAIL  Tests failed. Watching for file changes...
       press h to show help, press q to quit
Cancelling test run. Press CTRL+c again to exit forcefully.

