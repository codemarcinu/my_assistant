
> myappassistant-chat-frontend@0.0.0 test
> vitest

info Using tsconfig paths for react-docgen

 DEV  v3.2.4 /home/marcin/Dokumenty/agentai/makeit/AIASISSTMARUBO/myappassistant-chat-frontend

info Using tsconfig paths for react-docgen
info Using tsconfig paths for react-docgen
Port 63315 is in use, trying another one...

â¯â¯â¯â¯â¯â¯ Failed Suites 8 â¯â¯â¯â¯â¯â¯â¯

 FAIL  |storybook (chromium)| src/stories/Button.stories.ts [ src/stories/Button.stories.ts ]
 FAIL  |storybook (chromium)| src/stories/Header.stories.ts [ src/stories/Header.stories.ts ]
 FAIL  |storybook (chromium)| src/stories/Page.stories.ts [ src/stories/Page.stories.ts ]
 FAIL  |storybook (chromium)| src/components/ui/atoms/Badge.stories.tsx [ src/components/ui/atoms/Badge.stories.tsx ]
 FAIL  |storybook (chromium)| src/components/ui/atoms/Button.stories.tsx [ src/components/ui/atoms/Button.stories.tsx ]
 FAIL  |storybook (chromium)| src/components/ui/atoms/Card.stories.tsx [ src/components/ui/atoms/Card.stories.tsx ]
 FAIL  |storybook (chromium)| src/components/ui/atoms/Input.stories.tsx [ src/components/ui/atoms/Input.stories.tsx ]
 FAIL  |storybook (chromium)| src/components/ui/atoms/Spinner.stories.tsx [ src/components/ui/atoms/Spinner.stories.tsx ]
Error: Failed to import test file /home/marcin/Dokumenty/agentai/makeit/AIASISSTMARUBO/myappassistant-chat-frontend/src/test/setup.ts
Caused by: ReferenceError: global is not defined
 â¯ src/test/setup.ts:6:0

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[1/8]â¯


 Test Files  8 failed (8)
      Tests  no tests
   Start at  23:08:09
   Duration  1.96s (transform 0ms, setup 0ms, collect 0ms, tests 0ms, environment 0ms, prepare 23.12s)

 FAIL  Tests failed. Watching for file changes...
       press h to show help, press q to quit
c[3J RERUN  src/test/setup.ts 


â¯â¯â¯â¯â¯â¯ Failed Suites 8 â¯â¯â¯â¯â¯â¯â¯

 FAIL  |storybook (chromium)| src/stories/Button.stories.ts [ src/stories/Button.stories.ts ]
 FAIL  |storybook (chromium)| src/stories/Header.stories.ts [ src/stories/Header.stories.ts ]
 FAIL  |storybook (chromium)| src/stories/Page.stories.ts [ src/stories/Page.stories.ts ]
 FAIL  |storybook (chromium)| src/components/ui/atoms/Badge.stories.tsx [ src/components/ui/atoms/Badge.stories.tsx ]
 FAIL  |storybook (chromium)| src/components/ui/atoms/Button.stories.tsx [ src/components/ui/atoms/Button.stories.tsx ]
 FAIL  |storybook (chromium)| src/components/ui/atoms/Card.stories.tsx [ src/components/ui/atoms/Card.stories.tsx ]
 FAIL  |storybook (chromium)| src/components/ui/atoms/Input.stories.tsx [ src/components/ui/atoms/Input.stories.tsx ]
 FAIL  |storybook (chromium)| src/components/ui/atoms/Spinner.stories.tsx [ src/components/ui/atoms/Spinner.stories.tsx ]
Error: Failed to import test file /home/marcin/Dokumenty/agentai/makeit/AIASISSTMARUBO/myappassistant-chat-frontend/src/test/setup.ts
Caused by: TypeError: Cannot set property localStorage of #<Window> which has only a getter
 â¯ src/test/setup.ts:48:7

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[1/8]â¯


 Test Files  8 failed (8)
      Tests  no tests
   Start at  23:29:23
   Duration  0ms

 FAIL  Tests failed. Watching for file changes...
       press h to show help, press q to quit
c[3J RERUN  src/test/setup.ts 

 â¯ |storybook (chromium)| src/compo â¯ |storybook (chromium)| src/components/ui/atoms/Button.stories.tsx (8 tests | 8 failed) 482ms
   Ã— Primary 225ms
     â†’ 
[34mClick to debug the error directly in Storybook: http://localhost:6006/?path=/story/atoms-button--primary&addonPanel=storybook/interactions/panel[39m

useTheme must be used within a ThemeProvider
   Ã— Secondary 83ms
     â†’ 
[34mClick to debug the error directly in Storybook: http://localhost:6006/?path=/story/atoms-button--secondary&addonPanel=storybook/interactions/panel[39m

useTheme must be used within a ThemeProvider
   Ã— Outline 42ms
     â†’ 
[34mClick to debug the error directly in Storybook: http://localhost:6006/?path=/story/atoms-button--outline&addonPanel=storybook/interactions/panel[39m

useTheme must be used within a ThemeProvider
   Ã— Ghost 21ms
     â†’ 
[34mClick to debug the error directly in Storybook: http://localhost:6006/?path=/story/atoms-button--ghost&addonPanel=storybook/interactions/panel[39m

useTheme must be used within a ThemeProvider
   Ã— Small 25ms
     â†’ 
[34mClick to debug the error directly in Storybook: http://localhost:6006/?path=/story/atoms-button--small&addonPanel=storybook/interactions/panel[39m

useTheme must be used within a ThemeProvider
   Ã— Large 34ms
     â†’ 
[34mClick to debug the error directly in Storybook: http://localhost:6006/?path=/story/atoms-button--large&addonPanel=storybook/interactions/panel[39m

useTheme must be used within a ThemeProvider
   Ã— Loading 31ms
     â†’ 
[34mClick to debug the error directly in Storybook: http://localhost:6006/?path=/story/atoms-button--loading&addonPanel=storybook/interactions/panel[39m

useTheme must be used within a ThemeProvider
   Ã— Disabled 11ms
     â†’ 
[34mClick to debug the error directly in Storybook: http://localhost:6006/?path=/story/atoms-button--disabled&addonPanel=storybook/interactions/panel[39m

useTheme â¯ |storybook (chromium)| src/components/ui/atoms/Card.stories.tsx (7 tests | 7 failed) 554ms
   Ã— Default 268ms
     â†’ 
[34mClick to debug the error directly in Storybook: http://localhost:6006/?path=/story/atoms-card--default&addonPanel=storybook/interactions/panel[39m

useTheme must be used within a ThemeProvider
   Ã— Small Padding 34ms
     â†’ 
[34mClick to debug the error directly in Storybook: http://localhost:6006/?path=/story/atoms-card--small-padding&addonPanel=storybook/interactions/panel[39m

useTheme must be used within a ThemeProvider
   Ã— Large Padding 40ms
     â†’ 
[34mClick to debug the error directly in Storybook: http://localhost:6006/?path=/story/atoms-card--large-padding&addonPanel=storybook/interactions/panel[39m

useTheme must be used within a ThemeProvider
   Ã— Small Shadow 35ms
     â†’ 
[34mClick to debug the error directly in Storybook: http://localhost:6006/?path=/story/atoms-card--small-shadow&addonPanel=storybook/interactions/panel[39m

useTheme must be used within a ThemeProvider
   Ã— Large Shadow 50ms
     â†’ 
[34mClick to debug the error directly in Storybook: http://localhost:6006/?path=/story/atoms-card--large-shadow&addonPanel=storybook/interactions/panel[39m

useTheme must be used within a ThemeProvider
   Ã— With Content 49ms
     â†’ 
[34mClick to debug the error directly in Storybook: http://localhost:6006/?path=/story/atoms-card--with-content&addonPanel=storybook/interactions/panel[39m

useTheme must be used within a ThemeProvider
   Ã— All Variants 48ms
     â†’ 
[34mClick to debug the error directly in Storybook: http://localhost:6006/?path=/story/atoms-card--all-variants&addonPanel=storybook/interactions/panel[39m

useTheme must be used within a ThemeProvider
 âœ“ |storybook (chromium)| src/stori âœ“ |storybook (chromium)| src/stories/Button.stories.ts (4 âœ“ |storybook (chromium)| src/stori âœ“ |storybook (chromium)| src/components/ui/atoms/Badge.stories.tsx (10 tests) 1831ms
   âœ“ Default  870ms
 âœ“ |storybook (chromium)| src/components/ui/atoms/Spinner.stories.tsx (11 tests) 1951ms
   âœ“ Default  778ms
 âœ“ |storybook (chromium)| src/components/ui/atoms/Input.stories.tsx (10 âœ“ |storybook (chromium)| src/components/ui/atoms/Input.stories.tsx (10 tests) 738ms
   âœ“ Default  327ms
 âœ“ |storybook (chromium)| src/components/ui/atoms/Spinner.stories.tsx (11 tests) 809ms
   âœ“ Default  346ms

â¯â¯â¯â¯â¯â¯ Failed Tests 15 â¯â¯â¯â¯â¯â¯â¯

 FAIL  |storybook (chromium)| src/components/ui/atoms/Button.stories.tsx > Primary
 FAIL  |storybook (chromium)| src/components/ui/atoms/Button.stories.tsx > Secondary
 FAIL  |storybook (chromium)| src/components/ui/atoms/Button.stories.tsx > Outline
 FAIL  |storybook (chromium)| src/components/ui/atoms/Button.stories.tsx > Ghost
 FAIL  |storybook (chromium)| src/components/ui/atoms/Button.stories.tsx > Small
 FAIL  |storybook (chromium)| src/components/ui/atoms/Button.stories.tsx > Large
 FAIL  |storybook (chromium)| src/components/ui/atoms/Button.stories.tsx > Loading
 FAIL  |storybook (chromium)| src/components/ui/atoms/Button.stories.tsx > Disabled
Error: 
[34mClick to debug the error directly in Storybook: http://localhost:6006/?path=/story/atoms-button--primary&addonPanel=storybook/interactions/panel[39m

useTheme must be used within a ThemeProvider
 â¯ useTheme src/components/ThemeProvider.tsx:86:10
     84|   const context = useContext(ThemeContext);
     85|   if (context === undefined) {
     86|     throw new Error('useTheme must be used within a ThemeProvider');
       |          ^
     87|   }
     88|   return context;
 â¯ Button src/components/ui/atoms/Button.tsx:31:28
 â¯ react-stack-bottom-frame node_modules/react-dom/cjs/react-dom-client.development.js:23863:19
 â¯ renderWithHooks node_modules/react-dom/cjs/react-dom-client.development.js:5529:21
 â¯ updateFunctionComponent node_modules/react-dom/cjs/react-dom-client.development.js:8897:18
 â¯ beginWork node_modules/react-dom/cjs/react-dom-client.development.js:10522:17
 â¯ runWithFiberInDEV node_modules/react-dom/cjs/react-dom-client.development.js:1519:29
 â¯ performUnitOfWork node_modules/react-dom/cjs/react-dom-client.development.js:15140:21
 â¯ workLoopSync node_modules/react-dom/cjs/react-dom-client.development.js:14956:40
 â¯ renderRootSync node_modules/react-dom/cjs/react-dom-client.development.js:14936:10

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[1/15]â¯

 FAIL  |storybook (chromium)| src/components/ui/atoms/Card.stories.tsx > Default
 FAIL  |storybook (chromium)| src/components/ui/atoms/Card.stories.tsx > Small Padding
 FAIL  |storybook (chromium)| src/components/ui/atoms/Card.stories.tsx > Large Padding
 FAIL  |storybook (chromium)| src/components/ui/atoms/Card.stories.tsx > Small Shadow
 FAIL  |storybook (chromium)| src/components/ui/atoms/Card.stories.tsx > Large Shadow
 FAIL  |storybook (chromium)| src/components/ui/atoms/Card.stories.tsx > With Content
 FAIL  |storybook (chromium)| src/components/ui/atoms/Card.stories.tsx > All Variants
Error: 
[34mClick to debug the error directly in Storybook: http://localhost:6006/?path=/story/atoms-card--default&addonPanel=storybook/interactions/panel[39m

useTheme must be used within a ThemeProvider
 â¯ useTheme src/components/ThemeProvider.tsx:86:10
     84|   const context = useContext(ThemeContext);
     85|   if (context === undefined) {
     86|     throw new Error('useTheme must be used within a ThemeProvider');
       |          ^
     87|   }
     88|   return context;
 â¯ Card src/components/ui/atoms/Card.tsx:17:28
 â¯ react-stack-bottom-frame node_modules/react-dom/cjs/react-dom-client.development.js:23863:19
 â¯ renderWithHooks node_modules/react-dom/cjs/react-dom-client.development.js:5529:21
 â¯ updateFunctionComponent node_modules/react-dom/cjs/react-dom-client.development.js:8897:18
 â¯ beginWork node_modules/react-dom/cjs/react-dom-client.development.js:10522:17
 â¯ runWithFiberInDEV node_modules/react-dom/cjs/react-dom-client.development.js:1519:29
 â¯ performUnitOfWork node_modules/react-dom/cjs/react-dom-client.development.js:15140:21
 â¯ workLoopSync node_modules/react-dom/cjs/react-dom-client.development.js:14956:40
 â¯ renderRootSync node_modules/react-dom/cjs/react-dom-client.development.js:14936:10

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[2/15]â¯


 Test Files  2 failed | 6 passed (8)
      Tests  15 failed | 39 passed (54)
   Start at  23:29:43
   Duration  17.99s

 FAIL  Tests failed. Watching for file changes...
       press h to show help, press q to quit

Restarting due to config changes...
info Using tsconfig paths for react-dinfo UWarning: Starting in Storybook 8.5.0-alpha.18, the "test.include" option in Vitest is discouraged in favor of just using the "stories" field in your Storybook configuration.

The values you passed to "test.include" will be ignored, please remove them from your Vitest configuration where the Storybook plugin is applied.

More info: https://github.com/storybookjs/storybook/blob/next/MIGRATION.md#addon-test-indexing-behavior-of-storybookaddon-test-is-changed

 DEV  v3.2.4 /home/marcin/Dokumenty/agentai/makeit/AIASISSTMARUBO/myappassistant-chat-frontend

info Using tsconfig paths for react-docgen
Warning: Starting in Storybook 8.5.0-alpha.18, the "test.include" option in Vitest is discouraged in favor of just using the "stories" field in your Storybook configuration.

The values you passed to "test.include" will be ignored, please remove them from your Vitest configuration where the Storybook plugin is applied.

More info: https://github.com/storybookjs/storybook/blob/next/MIGRATION.md#addon-test-indexing-behavior-of-storybookaddon-test-is-changed
info Using tsconfig paths for react-docgen
 âœ“ |0| src/test/__tests__/chatStore.test.tsx (4 tests) 16ms
 â¯ |0| src/test/__tests__/App.test.tsx (1 test | 1 failed) 11ms
   Ã— App > renders without crashing 10ms
     â†’ document is not defined
 â¯ |storybook (chromium)| src/components/ui/atoms/Button.stories.tsx (8 tests | 8 failed) 450ms
   Ã— Primary 267ms
     â¯ |storybook (chromium)| src/components/ui/atoms/Card.stories.tsx (7 tests | 7 failed) 492ms
   Ã— Default 257ms
     â†’ 
[34mClick to debug the error directly in Storybook: http://localhost:6006/?path=/story/atoms-card--default&addonPanel=storybook/interactions/panel[39m

useTheme must be used within a ThemeProvider
   Ã— Small Padding 53ms
     â†’ 
[34mClick to debug the error directly in Storybook: http://localhost:6006/?path=/story/atoms-card--small-padding&addonPanel=storybook/interactions/panel[39m

useTheme must be used within a ThemeProvider
   Ã— Large Padding 45ms
     â†’ 
[34mClick to debug the error directly in Storybook: http://localhost:6006/?path=/story/atoms-card--large-padding&addonPanel=storybook/interactions/panel[39m

useTheme must be used within a ThemeProvider
   Ã— Small Shadow 34ms
     â†’ 
[34mClick to debug the error directly in Storybook: http://localhost:6006/?path=/story/atoms-card--small-shadow&addonPanel=storybook/interactions/panel[39m

useTheme must be used within a ThemeProvider
   Ã— Large Shadow 37ms
     â†’ 
[34mClick to debug the error directly in Storybook: http://localhost:6006/?path=/story/atoms-card--large-shadow&addonPanel=storybook/interactions/panel[39m

useTheme must be used within a ThemeProvider
   Ã— With Content 28ms
     â†’ 
[34mClick to debug the error directly in Storybook: http://localhost:6006/?path=/story/atoms-card--with-content&addonPanel=storybook/interactions/panel[39m

useTheme must be used within a ThemeProvider
   Ã— All Variants 30ms
     â†’ 
[34mClick to debug the error directly in Storybook: http://localhost:6006/?path=/story/atoms-card--all-variants&addonPanel=storybook/interactions/panel[39m

useTheme must be used within a ThemeProvider
 â¯ |storybook (chromium)| src/components/ui/atoms/Button.stories.tsx (8 tests | 8 failed) 770ms
   Ã— Primary 372ms
     â†’ 
[34mClick to debug the error directly in Storybook: http://localhost:6006/?path=/story/atoms-button--primary&addonPanel=storybook/interactions/panel[39m

useTheme must be used within a ThemeProvider
   Ã— Secondary 24ms
     â†’ 
[34mClick to debug the error directly in Storybook: http://localhost:6006/?path=/story/atoms-button--secondary&addonPanel=storybook/interactions/panel[39m

useTheme must be used within a ThemeProvider
   Ã— Outline 26ms
     â†’ 
[34mClick to debug the error directly in Storybook: http://localhost:6006/?path=/story/atoms-button--outline&addonPanel=storybook/interactions/panel[39m

useTheme must be used within a ThemeProvider
   Ã— Ghost 43ms
     â†’ 
[34mClick to debug the error directly in Storybook: http://localhost:6006/?path=/story/atoms-button--ghost&addonPanel=storybook/interactions/panel[39m

useTheme must be used within a ThemeProvider
   Ã— Small 101ms
     â†’ 
[34mClick to debug the error directly in Storybook: http://localhost:6006/?path=/story/atoms-button--small&addonPanel=storybook/interactions/panel[39m

useTheme must be used within a ThemeProvider
   Ã— Large 72ms
     â†’ 
[34mClick to debug the error directly in Storybook: http://localhost:6006/?path=/story/atoms-button--large&addonPanel=storybook/interactions/panel[39m

useTheme must be used within a ThemeProvider
   Ã— Loading 51ms
     â†’ 
[34mClick to debug the error directly in Storybook: http://localhost:6006/?path=/story/atoms-button--loading&addonPanel=storybook/interactions/panel[39m

useTheme must be used within a ThemeProvider
   Ã— Disabled 66ms
     â†’ 
[34mClick to debug the error directly in Storybook: http://localhost:6006/?pat âœ“ |storybook (chromium)| src/stories/Page.stories.ts (2 tests) 1389ms
   âœ“ Logged Out  915ms
   âœ“ Logged In  470ms
 âœ“ |storybook (chromium)| src/components/ui/atoms/Input.stories.tsx (10 tests) 1964ms
   âœ“ Default  728ms
 âœ“ |storyboo âœ“ |storybook (chromium)| src/components/ui/atoms/Input.stories.tsx (10 tests) 2202ms
   âœ“ Default  996ms
 âœ“ |storybook (chromium)| src/components/ui/atoms/Badge.stories.tsx (10 tests) 2185ms
   âœ“ Default  1012ms
 âœ“ |storybook (chromium)| src/components/ui/atoms/Spinner.stories.tsx (11 tests) 2297ms
   âœ“ Default  1150ms
 âœ“ |storybook (chromium)| src/stories/Button.stories.ts (4 tests) 734ms
   âœ“ Primary  574ms
 âœ“ |storybook (chromium)| src/stories/Header.stories.ts (2 tests) 441ms
   âœ“ Logged In  382ms

â¯â¯â¯â¯â¯â¯ Failed Suites 1 â¯â¯â¯â¯â¯â¯â¯

 FAIL  |0| src/test/__tests__/ChatBubble.test.tsx [ src/test/__tests__/ChatBubble.test.tsx ]
ReferenceError: describe is not defined
 â¯ src/test/__tests__/ChatBubble.test.tsx:7:1
      5| import { ThemeProvider } from '../../components/ThemeProvider';
      6| 
      7| describe('ChatBubble', () => {
       | ^
      8|   const renderBubble = (message: Message) => {
      9|     return render(

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[1/17]â¯


â¯â¯â¯â¯â¯â¯ Failed Tests 16 â¯â¯â¯â¯â¯â¯â¯

 FAIL  |0| src/test/__tests__/App.test.tsx > App > renders without crashing
ReferenceError: document is not defined
 â¯ Proxy.render node_modules/@testing-library/react/dist/pure.js:257:5
 â¯ Module.customRender src/test/utils.tsx:31:6
     29|   ui: ReactElement,
     30|   options?: Omit<RenderOptions, 'wrapper'>
     31| ) => render(ui, { wrapper: AllTheProviders, ...options });
       |      ^
     32| 
     33| // Re-export everything
 â¯ renderApp src/test/__tests__/App.test.tsx:14:12
 â¯ src/test/__tests__/App.test.tsx:25:7
 â¯ Proxy.process.env.NODE_ENV.exports.act node_modules/react/cjs/react.development.js:789:22
 â¯ src/test/__tests__/App.test.tsx:24:11

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[2/17]â¯

 FAIL  |storybook (chromium)| src/components/ui/atoms/Button.stories.tsx > Primary
 FAIL  |storybook (chromium)| src/components/ui/atoms/Button.stories.tsx > Secondary
 FAIL  |storybook (chromium)| src/components/ui/atoms/Button.stories.tsx > Outline
 FAIL  |storybook (chromium)| src/components/ui/atoms/Button.stories.tsx > Ghost
 FAIL  |storybook (chromium)| src/components/ui/atoms/Button.stories.tsx > Small
 FAIL  |storybook (chromium)| src/components/ui/atoms/Button.stories.tsx > Large
 FAIL  |storybook (chromium)| src/components/ui/atoms/Button.stories.tsx > Loading
 FAIL  |storybook (chromium)| src/components/ui/atoms/Button.stories.tsx > Disabled
Error: 
[34mClick to debug the error directly in Storybook: http://localhost:6006/?path=/story/atoms-button--primary&addonPanel=storybook/interactions/panel[39m

useTheme must be used within a ThemeProvider
 â¯ useTheme src/components/ThemeProvider.tsx:86:10
     84|   const context = useContext(ThemeContext);
     85|   if (context === undefined) {
     86|     throw new Error('useTheme must be used within a ThemeProvider');
       |          ^
     87|   }
     88|   return context;
 â¯ Button src/components/ui/atoms/Button.tsx:31:28
 â¯ react-stack-bottom-frame node_modules/react-dom/cjs/react-dom-client.development.js:23863:19
 â¯ renderWithHooks node_modules/react-dom/cjs/react-dom-client.development.js:5529:21
 â¯ updateFunctionComponent node_modules/react-dom/cjs/react-dom-client.development.js:8897:18
 â¯ beginWork node_modules/react-dom/cjs/react-dom-client.development.js:10522:17
 â¯ runWithFiberInDEV node_modules/react-dom/cjs/react-dom-client.development.js:1519:29
 â¯ performUnitOfWork node_modules/react-dom/cjs/react-dom-client.development.js:15140:21
 â¯ workLoopSync node_modules/react-dom/cjs/react-dom-client.development.js:14956:40
 â¯ renderRootSync node_modules/react-dom/cjs/react-dom-client.development.js:14936:10

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[3/17]â¯

 FAIL  |storybook (chromium)| src/components/ui/atoms/Card.stories.tsx > Default
 FAIL  |storybook (chromium)| src/components/ui/atoms/Card.stories.tsx > Small Padding
 FAIL  |storybook (chromium)| src/components/ui/atoms/Card.stories.tsx > Large Padding
 FAIL  |storybook (chromium)| src/components/ui/atoms/Card.stories.tsx > Small Shadow
 FAIL  |storybook (chromium)| src/components/ui/atoms/Card.stories.tsx > Large Shadow
 FAIL  |storybook (chromium)| src/components/ui/atoms/Card.stories.tsx > With Content
 FAIL  |storybook (chromium)| src/components/ui/atoms/Card.stories.tsx > All Variants
Error: 
[34mClick to debug the error directly in Storybook: http://localhost:6006/?path=/story/atoms-card--default&addonPanel=storybook/interactions/panel[39m

useTheme must be used within a ThemeProvider
 â¯ useTheme src/components/ThemeProvider.tsx:86:10
     84|   const context = useContext(ThemeContext);
     85|   if (context === undefined) {
     86|     throw new Error('useTheme must be used within a ThemeProvider');
       |          ^
     87|   }
     88|   return context;
 â¯ Card src/components/ui/atoms/Card.tsx:17:28
 â¯ react-stack-bottom-frame node_modules/react-dom/cjs/react-dom-client.development.js:23863:19
 â¯ renderWithHooks node_modules/react-dom/cjs/react-dom-client.development.js:5529:21
 â¯ updateFunctionComponent node_modules/react-dom/cjs/react-dom-client.development.js:8897:18
 â¯ beginWork node_modules/react-dom/cjs/react-dom-client.development.js:10522:17
 â¯ runWithFiberInDEV node_modules/react-dom/cjs/react-dom-client.development.js:1519:29
 â¯ performUnitOfWork node_modules/react-dom/cjs/react-dom-client.development.js:15140:21
 â¯ workLoopSync node_modules/react-dom/cjs/react-dom-client.development.js:14956:40
 â¯ renderRootSync node_modules/react-dom/cjs/react-dom-client.development.js:14936:10

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[4/17]â¯


 Test Files  4 failed | 7 passed (11)
      Tests  16 failed | 43 passed (59)
   Start at  23:30:29
   Duration  7.67s (transform 1.04s, setup 10.33s, collect 5.14s, tests 10.63s, enviro
Restarting due to config changes...
info Using tsconfig paths for react-docgen
Warning: Starting in Storybook 8.5.0-alpha.18, the "test.include" option in Vitest is discouraged in favor of just using the "Warning: Starting in Storybook 8.5.0-alpha.18, the "test.include" option in Vitest is discouraged in favor of just using the "stories" field in your Storybook configuration.

The values you passed to "test.include" will be ignored, please remove them from your Vitest configuration where the Storybook plugin is applied.

More info: h
 DEV  v3.2.4 /home/marcin/Dokumenty/agentai/makeit/AIASISSTMARUBO/myappassistant-chat-frontend

info Using tsconfig paths for react-docgen
info Using tsconfig paths for react-docgen
Warning: Starting in Storybook 8.5.0-alpha.18, the "test.include" option in Vitest Warning: Starting in Storybook 8.5.0-alpha.18, the "test.include" option in Vitest is discouraged in favor of just using the "stories" field in your Storybook configuration.

The values you passed to "test.include" will be ignored, please remove them from your Vitest configuration where the Storybook plugin is applied.

More info: https://github.com/storybookjs/storybook/blob/next/MIGRATION.md#addon-test-indexing-beha âœ“ |0| src/test/__tests__/chatStore.test.tsx (4 tests) 6ms
 â¯ |0| src/test/__tests__/App.test.tsx (1 test | 1 failed) 8ms
   Ã— App > renders without crashing 7ms
     â†’ document is not defined
 â¯ |storybook (chromium)| src/components/ui/atoms/Button.stories.tsx (8 tests | 8 failed) 573ms
   Ã— Primary 252ms
     â†’ 
[34mClick to debug the error directly in Storybook: http://localhost:6006/?path=/story/atoms-button--primary&addonPanel=storybook/interactions/panel[39m

useTheme must be used within a ThemeProvider
   Ã— Secondary 17ms
     â†’ 
[34mClick to debug the error directly in Storybook: http://localhost:6006/?path=/story/atoms-button--secondary&addonPanel=storybook/interactions/panel[39m

useTheme must be used within a ThemeProvider
   Ã— Outline 12ms
     â†’ 
[34mClick to debug the error directly in Storybook: http://localhost:6006/?path=/story/atoms-button--outline&addonPanel=storybook/interactions/panel[39m

useTheme must be used within a ThemeProvider
   Ã— Ghost 21ms
     â†’ 
[34mClick to debug the error directly in Storybook: http://localhost:6006/?path=/story/atoms-button--ghost&addonPanel=storybook/interactions/panel[39m

useTheme must be used within a ThemeProvider
   Ã— Small 17ms
     â†’ 
[34mClick to debug the error directly in Storybook: http://localhost:6006/?path=/story/atoms-button--small&addonPanel=storybook/interactions/panel[39m

useTheme must be used within a ThemeProvider
   Ã— Large 45ms
     â†’ 
[34mClick to debug the error directly in Storybook: http://localhost:6006/?path=/story/atoms-button--large&addonPanel=storybook/interactions/panel[39m

useTheme must be used within a ThemeProvider
   Ã— Loading 105ms
     â†’ 
[34mClick to debug the error directly in Storybook: http://localhost:6006/?path=/story/atoms-button--loading&addonPanel=storybook/interactions/panel[39m

useTheme must be used within a ThemeProvider
   Ã— Disabled 88ms
     â†’ 
[34mClick to debug the error directly in Storybook: http://localhost:6006/?path=/story/atoms-button--disabled&addonPanel=storybook/interactions/panel[39m

useTheme must be used within a ThemeProvider
 â¯ |storybook (chromium)| src/components/ui/atoms/Card.stories.tsx (7 tests | 7 failed) 664ms
   Ã— Default 266ms
     â†’ 
[34mClick to debug the error directly in Storybook: http://localhost:6006/?path=/story/atoms-card--default&addonPanel=storybook/interactions/panel[39m

useTheme must be used within a ThemeProvider
   Ã— Small Padding 51ms
     â†’ 
[34mClick to debug the error directly in Storybook: http://localhost:6006/?path=/story/atoms-card--small-padding&addonPanel=storybook/interactions/panel[39m

useTheme must be used within a ThemeProvider
   Ã— Large Padding 117ms
     â†’ 
[34mClick to debug the error directly in Storybook: http://localhost:6006/?path=/story/atoms-card--large-padding&addonPanel=storybook/interactions/panel[39m

useTheme must be used within a ThemeProvider
   Ã— Small Shadow 55ms
     â†’ 
[34mClick to debug the error directly in Storybook: http://localhost:6006/?path=/story/atoms-card--small-shadow&addonPanel=storybook/interactions/panel[39m

useTheme must be used within a ThemeProvider
   Ã— Large Shadow 53ms
     â†’ 
[34mClick to debug the error directly in Storybook: http://localhost:6006/?path=/story/atoms-card--large-shadow&addonPanel=storybook/interactions/panel[39m

useTheme must be used within a ThemeProvider
   Ã— With Content 45ms
     â†’ 
[34mClick to debug the error directly in Storybook: http://localhost:6006/?path=/story/atoms-card--with-content&addonPanel=storybook/interactions/panel[39m

useTheme must be used within a ThemeProvider
   Ã— All Variants 46ms
     â†’ 
[34mClick to debug the error directly in Storybook: http://localhost:6006/?path=/story/atoms-card--all-variants&addonPanel=storybook/interactions/panel[39m

useTheme must be used within a ThemeProvider
 âœ“ |storybook (chromium)| src/stories/Page.stories.ts (2 tests) 1746ms
   âœ“ Logged Out  1320ms
   âœ“ Logged In  420ms
 âœ“ |storybook (chromium)| src/components/ui/atoms/Badge.stories.tsx (10 tests) 2138ms
   âœ“ Default  795ms
 âœ“ |storybook (chromium)| src/components/ui/atoms/Spinner.stories.tsx (11 tests) 2134ms
   âœ“ Default  788ms
 âœ“ |storybook (chromium)| src/components/ui/atoms/Input.stories.tsx (10 tests) 2170ms
   âœ“ Default  826ms
 âœ“ |storybook (chromium)| src/stories/Button.stories.ts (4 tests) 892ms
   âœ“ Primary  682ms
 âœ“ |storybook (chromium)| src/stories/Header.stories.ts (2 tests) 699ms
   âœ“ Logged In  629ms

â¯â¯â¯â¯â¯â¯ Failed Suites 1 â¯â¯â¯â¯â¯â¯â¯

 FAIL  |0| src/test/__tests__/ChatBubble.test.tsx [ src/test/__tests__/ChatBubble.test.tsx ]
ReferenceError: describe is not defined
 â¯ src/test/__tests__/ChatBubble.test.tsx:7:1
      5| import { ThemeProvider } from '../../components/ThemeProvider';
      6| 
      7| describe('ChatBubble', () => {
       | ^
      8|   const renderBubble = (message: Message) => {
      9|     return render(

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[1/17]â¯


â¯â¯â¯â¯â¯â¯ Failed Tests 16 â¯â¯â¯â¯â¯â¯â¯

 FAIL  |0| src/test/__tests__/App.test.tsx > App > renders without crashing
ReferenceError: document is not defined
 â¯ Proxy.render node_modules/@testing-library/react/dist/pure.js:257:5
 â¯ Module.customRender src/test/utils.tsx:31:6
     29|   ui: ReactElement,
     30|   options?: Omit<RenderOptions, 'wrapper'>
     31| ) => render(ui, { wrapper: AllTheProviders, ...options });
       |      ^
     32| 
     33| // Re-export everything
 â¯ renderApp src/test/__tests__/App.test.tsx:14:12
 â¯ src/test/__tests__/App.test.tsx:25:7
 â¯ Proxy.process.env.NODE_ENV.exports.act node_modules/react/cjs/react.development.js:789:22
 â¯ src/test/__tests__/App.test.tsx:24:11

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[2/17]â¯

 FAIL  |storybook (chromium)| src/components/ui/atoms/Button.stories.tsx > Primary
 FAIL  |storybook (chromium)| src/components/ui/atoms/Button.stories.tsx > Secondary
 FAIL  |storybook (chromium)| src/components/ui/atoms/Button.stories.tsx > Outline
 FAIL  |storybook (chromium)| src/components/ui/atoms/Button.stories.tsx > Ghost
 FAIL  |storybook (chromium)| src/components/ui/atoms/Button.stories.tsx > Small
 FAIL  |storybook (chromium)| src/components/ui/atoms/Button.stories.tsx > Large
 FAIL  |storybook (chromium)| src/components/ui/atoms/Button.stories.tsx > Loading
 FAIL  |storybook (chromium)| src/components/ui/atoms/Button.stories.tsx > Disabled
Error: 
[34mClick to debug the error directly in Storybook: http://localhost:6006/?path=/story/atoms-button--primary&addonPanel=storybook/interactions/panel[39m

useTheme must be used within a ThemeProvider
 â¯ useTheme src/components/ThemeProvider.tsx:86:10
     84|   const context = useContext(ThemeContext);
     85|   if (context === undefined) {
     86|     throw new Error('useTheme must be used within a ThemeProvider');
       |          ^
     87|   }
     88|   return context;
 â¯ Button src/components/ui/atoms/Button.tsx:31:28
 â¯ react-stack-bottom-frame node_modules/react-dom/cjs/react-dom-client.development.js:23863:19
 â¯ renderWithHooks node_modules/react-dom/cjs/react-dom-client.development.js:5529:21
 â¯ updateFunctionComponent node_modules/react-dom/cjs/react-dom-client.development.js:8897:18
 â¯ beginWork node_modules/react-dom/cjs/react-dom-client.development.js:10522:17
 â¯ runWithFiberInDEV node_modules/react-dom/cjs/react-dom-client.development.js:1519:29
 â¯ performUnitOfWork node_modules/react-dom/cjs/react-dom-client.development.js:15140:21
 â¯ workLoopSync node_modules/react-dom/cjs/react-dom-client.development.js:14956:40
 â¯ renderRootSync node_modules/react-dom/cjs/react-dom-client.development.js:14936:10

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[3/17]â¯

 FAIL  |storybook (chromium)| src/components/ui/atoms/Card.stories.tsx > Default
 FAIL  |storybook (chromium)| src/components/ui/atoms/Card.stories.tsx > Small Padding
 FAIL  |storybook (chromium)| src/components/ui/atoms/Card.stories.tsx > Large Padding
 FAIL  |storybook (chromium)| src/components/ui/atoms/Card.stories.tsx > Small Shadow
 FAIL  |storybook (chromium)| src/components/ui/atoms/Card.stories.tsx > Large Shadow
 FAIL  |storybook (chromium)| src/components/ui/atoms/Card.stories.tsx > With Content
 FAIL  |storybook (chromium)| src/components/ui/atoms/Card.stories.tsx > All Variants
Error: 
[34mClick to debug the error directly in Storybook: http://localhost:6006/?path=/story/atoms-card--default&addonPanel=storybook/interactions/panel[39m

useTheme must be used within a ThemeProvider
 â¯ useTheme src/components/ThemeProvider.tsx:86:10
     84|   const context = useContext(ThemeContext);
     85|   if (context === undefined) {
     86|     throw new Error('useTheme must be used within a ThemeProvider');
       |          ^
     87|   }
     88|   return context;
 â¯ Card src/components/ui/atoms/Card.tsx:17:28
 â¯ react-stack-bottom-frame node_modules/react-dom/cjs/react-dom-client.development.js:23863:19
 â¯ renderWithHooks node_modules/react-dom/cjs/react-dom-client.development.js:5529:21
 â¯ updateFunctionComponent node_modules/react-dom/cjs/react-dom-client.development.js:8897:18
 â¯ beginWork node_modules/react-dom/cjs/react-dom-client.development.js:10522:17
 â¯ runWithFiberInDEV node_modules/react-dom/cjs/react-dom-client.development.js:1519:29
 â¯ performUnitOfWork node_modules/react-dom/cjs/react-dom-client.development.js:15140:21
 â¯ workLoopSync node_modules/react-dom/cjs/react-dom-client.development.js:14956:40
 â¯ renderRootSync node_modules/react-dom/cjs/react-dom-client.development.js:14936:10

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[4/17]â¯


 Test Files  4 failed | 7 passed (11)
      Tests  16 failed | 43 passed (59)
   Start at  23:30:41
   Duration  7.09s (transform 1.12s, setup 8.64s, collect 4.48s, tests 11.03s, environment 1ms, prepare 10855.25s)

 FAIL  Tests failed. Watching for file changes...
       press h to show help, press q to quit
node:events:502
      throw er; // Unhandled 'error' event
      ^

Error: Worker exited unexpectedly
    at ChildProcess.onUnexpectedExit (file:///home/marcin/Dokumentynode:events:502
      throw er; // Unhandled 'error' event
      ^

Error: Worker exited unexpectedly
    at ChildProcess.onUnexpectedExit (file:///home/marcin/Dokumenty/agentai/makeit/AIASISSTMARUBO/myappassistant-chat-frontend/node_modules/tinypool/dist/index.js:118:30)
    at ChildProcess.emit (node:events:536:35)
    at ChildProcess._handle.onexit (node:internal/child_process:293:12)
    at Process.callbackTrampoline (node:internal/async_hooks:130:17)
Emitted 'error' event on Tinypool instance at:
    at EventEmitterReferencingAsyncResource.runInAsyncScope (node:async_hooks:206:9)
    at Tinypool.emit (node:events:170:18)
    at file:///home/marcin/Dokumenty/agentai/makeit/AIASISSTMARUBO/myappassistant-chat-frontend/node_modules/tinypool/dist/index.js:594:30
    at ChildProcess.<anonymous> (file:///home/marcin/Dokumenty/agentai/makeit/AIASISSTMARUBO/myappassistant-chat-frontend/node_modules/tinypool/dist/index.js:162:34)
    at ChildProcess.emit (node:events:524:28)
    at ChildProcess.onUnexpectedExit (file:///home/marcin/Dokumenty/agentai/makeit/AIASISSTMARUBO/myappassistant-chat-frontend/node_modules/tinypool/dist/index.js:118:16)
    at ChildProcess.emit (node:events:536:35)
    at ChildProcess._handle.onexit (node:internal/child_process:293:12)
    at Process.callbackTrampoline (node:internal/async_hooks:130:17)

Node.js v20.19.3
